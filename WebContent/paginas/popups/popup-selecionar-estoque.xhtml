<?xml version="1.0" encoding="UTF-8"?>
<p:dialog xmlns="http://www.w3.org/1999/xhtml" 
	      xmlns:ui="http://java.sun.com/jsf/facelets"
          xmlns:h="http://java.sun.com/jsf/html" 
          xmlns:p="http://primefaces.org/ui"
          xmlns:f="http://java.sun.com/jsf/core"
          id="modalEstoqueId"
          widgetVar="dialogLivro"
          appendToBody="true"
          modal="false"
          header="Escolher Livro"
          closable="true">

     <div style="height: 200px; width: 480px; overflow: auto;">
	    <p:dataTable selection="single" id="tabelaModalDeLivros" var="livro" value="#{livroManagedBean.listaDeLivrosCadastrados}"
			emptyMessage="NÃ£o existem livros cadastrados" style="padding-top:20px;">
		
		    <p:column headerText="Id">
				<h:outputText value="#{estoque.livro.id}" />
			</p:column>
			<p:column headerText="Nome">
				<h:outputText value="#{estoque.livro.nome}" />
			</p:column>
			<p:column headerText="Autor">
				<h:outputText value="#{estoque.livro.autor}" />
			</p:column>
			<p:column headerText="Quantidade de exemplares">
				<h:outputText value="#{estoque.qtde_estoque}" />
			</p:column>
			<p:column headerText="Quantidade de exemplares emprestados">
				<h:outputText value="#{estoque.qtde_emprestada}" />
			</p:column>
		    
		    <p:column style="width:32px;text-align: center">
				<p:commandButton update=":emprestimoForm" process="@this" 
					action="#{emprestimoManagedBean.emprestimo.setLivro(livro)}" onclick="#{livroManagedBean.limpar()}" oncomplete="PF('dialogLivro').hide();" icon="fa fa-fw fa-arrow-circle-down" title="View">
				</p:commandButton>
			</p:column>
		</p:dataTable>
    </div>
    
</p:dialog>